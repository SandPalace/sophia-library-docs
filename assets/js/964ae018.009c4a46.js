"use strict";(globalThis.webpackChunksophia_library_docs=globalThis.webpackChunksophia_library_docs||[]).push([[443],{3588:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"api-reference","title":"Sophia Library API Reference","description":"Version: v1","source":"@site/docs/api-reference.md","sourceDirName":".","slug":"/api-reference","permalink":"/sophia-library-docs/docs/api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/SandPalace/sophia-library-docs/tree/main/docs/api-reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/sophia-library-docs/docs/quick-start"},"next":{"title":"Sophia API Integration Guide for LangGraph Server","permalink":"/sophia-library-docs/docs/langgraph-integration"}}');var r=s(4848),t=s(8453);const d={},l="Sophia Library API Reference",c={},h=[{value:"Overview",id:"overview",level:2},{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Authentication Header",id:"authentication-header",level:3},{value:"API Key Roles",id:"api-key-roles",level:3},{value:"Obtaining an API Key",id:"obtaining-an-api-key",level:3},{value:"Health &amp; Monitoring",id:"health--monitoring",level:2},{value:"GET <code>/health</code>",id:"get-health",level:3},{value:"GET <code>/health/detailed</code>",id:"get-healthdetailed",level:3},{value:"GET <code>/health/ready</code>",id:"get-healthready",level:3},{value:"GET <code>/health/live</code>",id:"get-healthlive",level:3},{value:"Catalog Endpoints",id:"catalog-endpoints",level:2},{value:"GET <code>/catalog/books</code>",id:"get-catalogbooks",level:3},{value:"GET <code>/catalog/books/{book_id}</code>",id:"get-catalogbooksbook_id",level:3},{value:"GET <code>/catalog/books/{book_id}/sections</code>",id:"get-catalogbooksbook_idsections",level:3},{value:"Author Endpoints",id:"author-endpoints",level:2},{value:"GET <code>/authors</code>",id:"get-authors",level:3},{value:"GET <code>/authors/{author_id}</code>",id:"get-authorsauthor_id",level:3},{value:"Search Endpoints",id:"search-endpoints",level:2},{value:"POST <code>/search/semantic</code>",id:"post-searchsemantic",level:3},{value:"POST <code>/search/keyword</code>",id:"post-searchkeyword",level:3},{value:"POST <code>/search/hybrid</code> \u2b50 RECOMMENDED",id:"post-searchhybrid--recommended",level:3},{value:"Context Building",id:"context-building",level:2},{value:"POST <code>/context/build</code>",id:"post-contextbuild",level:3},{value:"Response Formats",id:"response-formats",level:2},{value:"Search Response Format",id:"search-response-format",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Error Response Format",id:"error-response-format",level:3},{value:"HTTP Status Codes",id:"http-status-codes",level:3},{value:"Example Error Response",id:"example-error-response",level:3},{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"Rate Limit Headers",id:"rate-limit-headers",level:3},{value:"Default Limits",id:"default-limits",level:3},{value:"Rate Limit Exceeded Response",id:"rate-limit-exceeded-response",level:3},{value:"SDK and Libraries",id:"sdk-and-libraries",level:2},{value:"Python Client",id:"python-client",level:3},{value:"JavaScript/TypeScript",id:"javascripttypescript",level:3},{value:"API Capabilities Summary",id:"api-capabilities-summary",level:2},{value:"Support",id:"support",level:2},{value:"Changelog",id:"changelog",level:2},{value:"v1.0.0 (November 2025)",id:"v100-november-2025",level:3}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sophia-library-api-reference",children:"Sophia Library API Reference"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Version"}),": v1\n",(0,r.jsx)(n.strong,{children:"Base URL"}),": ",(0,r.jsx)(n.code,{children:"https://api.sophia-library.org/api/v1"})," (when deployed)\n",(0,r.jsx)(n.strong,{children:"Base URL (Local)"}),": ",(0,r.jsx)(n.code,{children:"http://localhost:8888/api/v1"})]}),"\n",(0,r.jsx)(n.p,{children:"The Sophia Library API provides programmatic access to a curated collection of philosophical and religious texts with advanced search capabilities powered by AI."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The API enables you to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ud83d\udd0d ",(0,r.jsx)(n.strong,{children:"Search"})," 25,000+ document chunks using semantic (AI), keyword (BM25), or hybrid search"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udcda ",(0,r.jsx)(n.strong,{children:"Browse"})," catalog of books and authors"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83e\udd16 ",(0,r.jsx)(n.strong,{children:"Build Context"})," for AI agents and LLMs"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udd10 ",(0,r.jsx)(n.strong,{children:"Authenticate"})," with API keys for secure access"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#authentication",children:"Authentication"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#health--monitoring",children:"Health & Monitoring"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#catalog-endpoints",children:"Catalog Endpoints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#author-endpoints",children:"Author Endpoints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#search-endpoints",children:"Search Endpoints"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#context-building",children:"Context Building"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#response-formats",children:"Response Formats"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#error-handling",children:"Error Handling"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#rate-limiting",children:"Rate Limiting"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["The Sophia API uses ",(0,r.jsx)(n.strong,{children:"Bearer Token authentication"})," with API keys."]}),"\n",(0,r.jsx)(n.h3,{id:"authentication-header",children:"Authentication Header"}),"\n",(0,r.jsx)(n.p,{children:"All authenticated endpoints require the following header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Authorization: Bearer YOUR_API_KEY\n"})}),"\n",(0,r.jsx)(n.h3,{id:"api-key-roles",children:"API Key Roles"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Role"}),(0,r.jsx)(n.th,{children:"Permissions"}),(0,r.jsx)(n.th,{children:"Use Case"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"read_only"})}),(0,r.jsx)(n.td,{children:"Catalog, Authors, Search (basic)"}),(0,r.jsx)(n.td,{children:"Public applications"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"agent_service"})}),(0,r.jsx)(n.td,{children:"All read operations, Context building"}),(0,r.jsx)(n.td,{children:"AI agents, LangGraph"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"admin"})}),(0,r.jsx)(n.td,{children:"All operations + API key management"}),(0,r.jsx)(n.td,{children:"Internal administration"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"obtaining-an-api-key",children:"Obtaining an API Key"}),"\n",(0,r.jsx)(n.p,{children:"Contact the Sophia Library team or use the admin portal to generate an API key."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"})," (Admin only):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8888/api/v1/auth/api-keys" \\\n  -H "Authorization: Bearer ADMIN_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "name": "My Application",\n    "role": "agent_service",\n    "usage_quota": 10000\n  }\'\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"health--monitoring",children:"Health & Monitoring"}),"\n",(0,r.jsxs)(n.h3,{id:"get-health",children:["GET ",(0,r.jsx)(n.code,{children:"/health"})]}),"\n",(0,r.jsx)(n.p,{children:"Basic health check endpoint (no authentication required)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "healthy",\n  "service": "sophia-api",\n  "version": "v1",\n  "timestamp": 1699564800\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-healthdetailed",children:["GET ",(0,r.jsx)(n.code,{children:"/health/detailed"})]}),"\n",(0,r.jsx)(n.p,{children:"Detailed health check including database and service connectivity."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "healthy",\n  "service": "sophia-api",\n  "version": "v1",\n  "timestamp": 1699564800,\n  "checks": {\n    "database": {\n      "status": "healthy",\n      "type": "sqlite",\n      "path": "database/sophia.db"\n    },\n    "qdrant": {\n      "status": "healthy",\n      "collection": "sophia_library"\n    },\n    "opensearch": {\n      "status": "healthy",\n      "host": "localhost"\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-healthready",children:["GET ",(0,r.jsx)(n.code,{children:"/health/ready"})]}),"\n",(0,r.jsx)(n.p,{children:"Kubernetes readiness probe endpoint."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "ready"\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-healthlive",children:["GET ",(0,r.jsx)(n.code,{children:"/health/live"})]}),"\n",(0,r.jsx)(n.p,{children:"Kubernetes liveness probe endpoint."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "alive"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"catalog-endpoints",children:"Catalog Endpoints"}),"\n",(0,r.jsxs)(n.h3,{id:"get-catalogbooks",children:["GET ",(0,r.jsx)(n.code,{children:"/catalog/books"})]}),"\n",(0,r.jsx)(n.p,{children:"List books in the catalog with optional filtering and pagination."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Query Parameters"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"author_slug"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:'Filter by author slug (e.g., "friedrich-nietzsche")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"field_tags"})}),(0,r.jsx)(n.td,{children:"array[string]"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:'Filter by field tags (e.g., ["Philosophy", "Ethics"])'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"limit"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"20"}),(0,r.jsx)(n.td,{children:"Results per page (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"offset"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Pagination offset"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sort_by"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"title"}),(0,r.jsx)(n.td,{children:'Sort field: "title", "author", or "publication_date"'})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8888/api/v1/catalog/books?author_slug=plato&limit=5" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "books": [\n    {\n      "id": "book-uuid-123",\n      "slug": "republic",\n      "title": "The Republic",\n      "author": {\n        "id": "author-uuid-456",\n        "name": "Plato",\n        "slug": "plato"\n      },\n      "publication_date": "-380",\n      "field_tags": ["Philosophy", "Political Philosophy", "Ethics"],\n      "keywords": ["justice", "ideal state", "forms", "education"],\n      "summary_short": "A Socratic dialogue exploring justice and the ideal state.",\n      "has_full_text": true,\n      "metadata": {\n        "word_count": 120000,\n        "page_count": 350,\n        "embedded": true\n      }\n    }\n  ],\n  "total": 42,\n  "limit": 5,\n  "offset": 0\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-catalogbooksbook_id",children:["GET ",(0,r.jsx)(n.code,{children:"/catalog/books/{book_id}"})]}),"\n",(0,r.jsx)(n.p,{children:"Get detailed information about a specific book."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Path Parameters"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"book_id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique book identifier"})]})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8888/api/v1/catalog/books/book-uuid-123" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "book-uuid-123",\n  "slug": "republic",\n  "title": "The Republic",\n  "author": {\n    "id": "author-uuid-456",\n    "name": "Plato",\n    "slug": "plato"\n  },\n  "publication_date": "-380",\n  "publisher": "Ancient Athens",\n  "language": "en",\n  "field_tags": ["Philosophy", "Political Philosophy", "Ethics"],\n  "keywords": ["justice", "ideal state", "forms", "education"],\n  "summary_short": "A Socratic dialogue exploring justice and the ideal state.",\n  "summary_medium": "The Republic is a Socratic dialogue concerning justice...",\n  "summary_long": "Plato\'s Republic is one of the most influential works...",\n  "description": "Full description of the work...",\n  "s3_object_key": "plato/republic.pdf",\n  "related_works": [],\n  "metadata": {\n    "word_count": 120000,\n    "page_count": 350,\n    "embedded": true,\n    "isbn": "978-0-14-044914-1",\n    "doi": null\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-catalogbooksbook_idsections",children:["GET ",(0,r.jsx)(n.code,{children:"/catalog/books/{book_id}/sections"})]}),"\n",(0,r.jsx)(n.p,{children:"Get section-level summaries for a book."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Path Parameters"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"book_id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique book identifier"})]})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8888/api/v1/catalog/books/book-uuid-123/sections" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "book_id": "book-uuid-123",\n  "sections": [\n    {\n      "section_id": "section-1",\n      "title": "Book I: The Question of Justice",\n      "summary": "Introduction to the dialogue and initial definitions of justice.",\n      "page_start": 1,\n      "page_end": 50\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"author-endpoints",children:"Author Endpoints"}),"\n",(0,r.jsxs)(n.h3,{id:"get-authors",children:["GET ",(0,r.jsx)(n.code,{children:"/authors"})]}),"\n",(0,r.jsx)(n.p,{children:"List authors in the catalog with optional filtering and pagination."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Query Parameters"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"domain"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:'Filter by domain (e.g., "humanities", "sciences")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"discipline"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:'Filter by discipline (e.g., "philosophy", "physics")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"subfield"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:'Filter by subfield (e.g., "ethics", "quantum-mechanics")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"limit"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"20"}),(0,r.jsx)(n.td,{children:"Results per page (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"offset"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"Pagination offset"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8888/api/v1/authors?discipline=philosophy&limit=10" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "authors": [\n    {\n      "id": "author-uuid-456",\n      "name": "Plato",\n      "slug": "plato",\n      "birth_date": "-428",\n      "death_date": "-348",\n      "birth_place": "Athens",\n      "nationality": "Greek",\n      "domains": ["Philosophy"],\n      "disciplines": ["Ancient Philosophy"],\n      "subfields": ["Ethics", "Political Philosophy", "Metaphysics"],\n      "work_count": 42\n    }\n  ],\n  "total": 1067,\n  "limit": 10,\n  "offset": 0\n}\n'})}),"\n",(0,r.jsxs)(n.h3,{id:"get-authorsauthor_id",children:["GET ",(0,r.jsx)(n.code,{children:"/authors/{author_id}"})]}),"\n",(0,r.jsx)(n.p,{children:"Get detailed information about a specific author."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Path Parameters"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"author_id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique author identifier"})]})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://localhost:8888/api/v1/authors/author-uuid-456" \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "author-uuid-456",\n  "name": "Plato",\n  "slug": "plato",\n  "birth_date": "-428",\n  "death_date": "-348",\n  "birth_place": "Athens",\n  "nationality": "Greek",\n  "domains": ["Philosophy"],\n  "disciplines": ["Ancient Philosophy"],\n  "subfields": ["Ethics", "Political Philosophy", "Metaphysics"],\n  "bio_short": "Ancient Greek philosopher and founder of the Academy.",\n  "bio_long": "Plato was an ancient Greek philosopher...",\n  "notable_works": ["The Republic", "Symposium", "Phaedo"],\n  "works": [\n    {\n      "id": "book-uuid-123",\n      "title": "The Republic",\n      "publication_date": "-380"\n    }\n  ],\n  "work_count": 42\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"search-endpoints",children:"Search Endpoints"}),"\n",(0,r.jsxs)(n.p,{children:["All search endpoints return a ",(0,r.jsx)(n.strong,{children:"standardized response format"})," (Sprint 11) with normalized scores and nested metadata objects."]}),"\n",(0,r.jsxs)(n.h3,{id:"post-searchsemantic",children:["POST ",(0,r.jsx)(n.code,{children:"/search/semantic"})]}),"\n",(0,r.jsx)(n.p,{children:"Perform semantic (vector) search using AI embeddings."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best for"}),": Conceptual queries, questions, paraphrased concepts"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required\n",(0,r.jsx)(n.strong,{children:"Content-Type"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"query"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Search query text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"null"}),(0,r.jsx)(n.td,{children:"Filter options"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters.author_slug"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Filter by author"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters.field_tags"})}),(0,r.jsx)(n.td,{children:"array[string]"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Filter by field tags"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters.book_ids"})}),(0,r.jsx)(n.td,{children:"array[string]"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Filter by book IDs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"top_k"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"Number of results (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"score_threshold"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.0"}),(0,r.jsx)(n.td,{children:"Minimum similarity score (0.0-1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"include_sections"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"false"}),(0,r.jsx)(n.td,{children:"Include section-level results"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8888/api/v1/search/semantic" \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": "What is the meaning of virtue?",\n    "top_k": 5,\n    "score_threshold": 0.0,\n    "filters": {\n      "author_slug": "aristotle"\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),": See ",(0,r.jsx)(n.a,{href:"#search-response-format",children:"Search Response Format"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses OpenAI ",(0,r.jsx)(n.code,{children:"text-embedding-3-small"})," (1536 dimensions)"]}),"\n",(0,r.jsx)(n.li,{children:"Cosine similarity scoring"}),"\n",(0,r.jsx)(n.li,{children:"Qdrant payload indexes for fast filtering"}),"\n",(0,r.jsx)(n.li,{children:"~600ms average query time"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"post-searchkeyword",children:["POST ",(0,r.jsx)(n.code,{children:"/search/keyword"})]}),"\n",(0,r.jsx)(n.p,{children:"Perform keyword search using BM25 algorithm."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best for"}),": Exact term matching, specific phrases, author names"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required\n",(0,r.jsx)(n.strong,{children:"Content-Type"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"query"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Search query text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"null"}),(0,r.jsx)(n.td,{children:"Filter options (same as semantic search)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"top_k"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"Number of results (1-100)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8888/api/v1/search/keyword" \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": "categorical imperative",\n    "top_k": 5,\n    "filters": {\n      "author_slug": "immanuel-kant"\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),": See ",(0,r.jsx)(n.a,{href:"#search-response-format",children:"Search Response Format"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OpenSearch with BM25 scoring"}),"\n",(0,r.jsx)(n.li,{children:"Field boosting (title^2.0, author^1.5)"}),"\n",(0,r.jsx)(n.li,{children:"25,552 documents indexed"}),"\n",(0,r.jsx)(n.li,{children:"~100-200ms average query time"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"post-searchhybrid--recommended",children:["POST ",(0,r.jsx)(n.code,{children:"/search/hybrid"})," \u2b50 RECOMMENDED"]}),"\n",(0,r.jsx)(n.p,{children:"Perform hybrid search combining semantic and keyword using RRF (Reciprocal Rank Fusion)."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Best for"}),": Comprehensive results balancing meaning and exactness"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required\n",(0,r.jsx)(n.strong,{children:"Content-Type"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"query"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Search query text"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"null"}),(0,r.jsx)(n.td,{children:"Filter options (same as semantic search)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"top_k"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"10"}),(0,r.jsx)(n.td,{children:"Number of results (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"semantic_weight"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.7"}),(0,r.jsx)(n.td,{children:"Weight for semantic results (0.0-1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"keyword_weight"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.3"}),(0,r.jsx)(n.td,{children:"Weight for keyword results (0.0-1.0)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8888/api/v1/search/hybrid" \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": "Einstein theory of relativity",\n    "top_k": 10,\n    "semantic_weight": 0.7,\n    "keyword_weight": 0.3,\n    "filters": {\n      "field_tags": ["Philosophy", "Science"]\n    }\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),": See ",(0,r.jsx)(n.a,{href:"#search-response-format",children:"Search Response Format"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Best of both worlds (semantic + keyword)"}),"\n",(0,r.jsx)(n.li,{children:"RRF fusion algorithm (k=60)"}),"\n",(0,r.jsx)(n.li,{children:"Configurable weights"}),"\n",(0,r.jsx)(n.li,{children:"Score breakdown in response"}),"\n",(0,r.jsx)(n.li,{children:"~800ms average query time"}),"\n",(0,r.jsx)(n.li,{children:"Automatic deduplication"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"context-building",children:"Context Building"}),"\n",(0,r.jsxs)(n.h3,{id:"post-contextbuild",children:["POST ",(0,r.jsx)(n.code,{children:"/context/build"})]}),"\n",(0,r.jsx)(n.p,{children:"Build comprehensive context for AI agent queries by combining catalog data, search results, and summaries."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication"}),": Required (role: ",(0,r.jsx)(n.code,{children:"agent_service"})," or ",(0,r.jsx)(n.code,{children:"admin"}),")\n",(0,r.jsx)(n.strong,{children:"Content-Type"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Request Body"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"query"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"User's research question"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"context_type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:'"field_expert"'}),(0,r.jsx)(n.td,{children:'Agent type: "librarian", "field_expert", or "author"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"all enabled"}),(0,r.jsx)(n.td,{children:"Configure which sources to include"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources.include_catalog"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include catalog matches"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources.include_summaries"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include book summaries"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources.include_chunks"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include content chunks"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources.include_sections"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include section summaries"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sources.include_related_works"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include related works"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"null"}),(0,r.jsx)(n.td,{children:"Filter options (same as search)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_chunks"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"20"}),(0,r.jsx)(n.td,{children:"Maximum content chunks (1-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_related_works"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"Maximum related works (0-20)"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Request"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST "http://localhost:8888/api/v1/context/build" \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "query": "Explain Nietzsche\'\\\'\'s concept of eternal recurrence",\n    "context_type": "field_expert",\n    "filters": {\n      "author_slug": "friedrich-nietzsche"\n    },\n    "max_chunks": 15\n  }\'\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "query": "Explain Nietzsche\'s concept of eternal recurrence",\n  "context": {\n    "catalog_matches": [\n      {\n        "book": { /* BookDetail object */ },\n        "relevance_score": 0.95,\n        "summary": "Thus Spoke Zarathustra is a philosophical novel..."\n      }\n    ],\n    "content_chunks": [\n      {\n        "text": "What, if some day or night a demon were to steal...",\n        "source": "Thus Spoke Zarathustra by Friedrich Nietzsche",\n        "score": 0.89,\n        "metadata": { /* chunk metadata */ }\n      }\n    ],\n    "section_summaries": [\n      {\n        "section": "On the Vision and the Riddle",\n        "summary": "Zarathustra presents the doctrine of eternal recurrence...",\n        "source_book": "Thus Spoke Zarathustra"\n      }\n    ],\n    "related_works": [\n      {\n        "id": "work-uuid",\n        "title": "The Gay Science",\n        "relationship": "related"\n      }\n    ],\n    "field_context": {\n      "domain": "Philosophy",\n      "discipline": "Continental Philosophy",\n      "subfield": "Existentialism",\n      "key_concepts": ["eternal recurrence", "will to power", "overman"]\n    }\n  },\n  "metadata": {\n    "total_sources": 23,\n    "search_duration_ms": 856,\n    "context_tokens": 4523\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"response-formats",children:"Response Formats"}),"\n",(0,r.jsx)(n.h3,{id:"search-response-format",children:"Search Response Format"}),"\n",(0,r.jsxs)(n.p,{children:["All three search methods (",(0,r.jsx)(n.code,{children:"/search/semantic"}),", ",(0,r.jsx)(n.code,{children:"/search/keyword"}),", ",(0,r.jsx)(n.code,{children:"/search/hybrid"}),") return an identical standardized format:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "results": [\n    {\n      "chunk_id": "7e8eec35-2b21-53a8-b62f-5437044e8bd0",\n      "score": 0.8542,\n      "text": "The matched text content from the document...",\n\n      "book": {\n        "id": "3871b915ccc13144e3124b142c66d23b",\n        "slug": "thus-spoke-zarathustra",\n        "title": "Thus Spoke Zarathustra"\n      },\n\n      "author": {\n        "id": "author-uuid",\n        "name": "Friedrich Nietzsche",\n        "slug": "friedrich-nietzsche"\n      },\n\n      "location": {\n        "chunk_index": 42,\n        "page_start": 125,\n        "page_end": 127,\n        "section_id": "section-3",\n        "section_title": "On the Vision and the Riddle"\n      },\n\n      "search_metadata": {\n        "semantic_score": 0.7891,\n        "keyword_score": 14.2390,\n        "semantic_rank": 1,\n        "keyword_rank": 2,\n        "highlights": null,\n        "source_type": "both"\n      }\n    }\n  ],\n\n  "metadata": {\n    "query": "eternal recurrence",\n    "search_type": "hybrid",\n    "total_results": 10,\n    "returned_results": 10,\n    "query_time_ms": 842.5,\n    "semantic_weight": 0.7,\n    "keyword_weight": 0.3,\n    "filters": {\n      "author_slug": "friedrich-nietzsche",\n      "field_tags": null,\n      "book_ids": null\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Normalized Scores"}),": All scores are 0.0-1.0 for easy comparison"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Nested Objects"}),": Clean structure with book, author, location"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Score Breakdown"}),": Individual scores for hybrid search"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Query Metadata"}),": Timing, filters, weights in envelope"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"The API uses standard HTTP status codes and returns errors in a consistent format."}),"\n",(0,r.jsx)(n.h3,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Error message describing what went wrong"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"http-status-codes",children:"HTTP Status Codes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status Code"}),(0,r.jsx)(n.th,{children:"Meaning"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"200"}),(0,r.jsx)(n.td,{children:"OK"}),(0,r.jsx)(n.td,{children:"Request succeeded"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"Bad Request"}),(0,r.jsx)(n.td,{children:"Invalid request parameters"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"401"}),(0,r.jsx)(n.td,{children:"Unauthorized"}),(0,r.jsx)(n.td,{children:"Missing or invalid API key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"403"}),(0,r.jsx)(n.td,{children:"Forbidden"}),(0,r.jsx)(n.td,{children:"Insufficient permissions for this operation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"404"}),(0,r.jsx)(n.td,{children:"Not Found"}),(0,r.jsx)(n.td,{children:"Resource not found"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"429"}),(0,r.jsx)(n.td,{children:"Too Many Requests"}),(0,r.jsx)(n.td,{children:"Rate limit exceeded"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"500"}),(0,r.jsx)(n.td,{children:"Internal Server Error"}),(0,r.jsx)(n.td,{children:"Server-side error occurred"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"example-error-response",children:"Example Error Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Semantic search failed: Invalid query parameter"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.p,{children:"API keys have usage quotas to ensure fair usage and system stability."}),"\n",(0,r.jsx)(n.h3,{id:"rate-limit-headers",children:"Rate Limit Headers"}),"\n",(0,r.jsx)(n.p,{children:"All authenticated responses include rate limit headers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"X-RateLimit-Limit: 10000\nX-RateLimit-Remaining: 9543\nX-RateLimit-Reset: 1699651200\n"})}),"\n",(0,r.jsx)(n.h3,{id:"default-limits",children:"Default Limits"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Role"}),(0,r.jsx)(n.th,{children:"Daily Limit"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"read_only"})}),(0,r.jsx)(n.td,{children:"1,000 requests/day"}),(0,r.jsx)(n.td,{children:"For public applications"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"agent_service"})}),(0,r.jsx)(n.td,{children:"10,000 requests/day"}),(0,r.jsx)(n.td,{children:"For AI agents and services"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"admin"})}),(0,r.jsx)(n.td,{children:"Unlimited"}),(0,r.jsx)(n.td,{children:"For administration"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"rate-limit-exceeded-response",children:"Rate Limit Exceeded Response"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Status"}),": 429 Too Many Requests"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Daily quota exceeded. Limit: 10000 requests/day. Resets at: 2024-11-13T00:00:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"sdk-and-libraries",children:"SDK and Libraries"}),"\n",(0,r.jsx)(n.h3,{id:"python-client",children:"Python Client"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"./LANGGRAPH_INTEGRATION_GUIDE.md",children:"LANGGRAPH_INTEGRATION_GUIDE.md"})," for a complete Python client implementation."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quick Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from sophia_client import SophiaAPIClient\n\nclient = SophiaAPIClient(\n    api_url="https://api.sophia-library.org/api/v1",\n    api_key="sk_YOUR_KEY_HERE"\n)\n\n# Hybrid search (recommended)\nresults = client.hybrid_search(\n    query="What is virtue?",\n    filters={"author_slug": "aristotle"},\n    top_k=5\n)\n\nfor result in results["results"]:\n    print(f"{result[\'book\'][\'title\']} - Score: {result[\'score\']:.3f}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"javascripttypescript",children:"JavaScript/TypeScript"}),"\n",(0,r.jsx)(n.p,{children:"Community contributions welcome!"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"api-capabilities-summary",children:"API Capabilities Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Details"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Content"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"25,552 document chunks indexed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Authors"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"1,067 authors cataloged"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Books"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"97 books with full metadata"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Semantic Search"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"OpenAI embeddings + Qdrant"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Keyword Search"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"OpenSearch with BM25"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Hybrid Search"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"RRF fusion algorithm"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Context Building"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"Multi-source aggregation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Filtering"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"Author, field tags, book IDs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Authentication"})}),(0,r.jsx)(n.td,{children:"\u2705 Ready"}),(0,r.jsx)(n.td,{children:"API keys with role-based access"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Rate Limiting"})}),(0,r.jsx)(n.td,{children:"\u23f3 Planned"}),(0,r.jsx)(n.td,{children:"Configurable per-key quotas"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Documentation"}),": Interactive Swagger UI at ",(0,r.jsx)(n.code,{children:"/api/v1/docs"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenAPI Specification"}),": Machine-readable spec at ",(0,r.jsx)(n.code,{children:"/api/v1/openapi.json"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integration Guide"}),": ",(0,r.jsx)(n.a,{href:"./LANGGRAPH_INTEGRATION_GUIDE.md",children:"LANGGRAPH_INTEGRATION_GUIDE.md"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quick Start"}),": ",(0,r.jsx)(n.a,{href:"./API_QUICK_START.md",children:"API_QUICK_START.md"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Issues"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/your-org/sophia-library/issues",children:"Report bugs or request features"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"changelog",children:"Changelog"}),"\n",(0,r.jsx)(n.h3,{id:"v100-november-2025",children:"v1.0.0 (November 2025)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Initial public API release"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Semantic, keyword, and hybrid search endpoints"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Standardized response format (Sprint 11)"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Catalog and author endpoints"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Context building for AI agents"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 API key authentication"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Comprehensive documentation"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Built with \u2764\ufe0f by the Sophia Library Team"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Empowering AI agents with access to humanity's philosophical and religious wisdom."})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);